<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.11.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>luat_soc_sdk_2024: MQTT相关接口</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">luat_soc_sdk_2024<span id="projectnumber">&#160;V1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- 制作者 Doxygen 1.11.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>首页</span></a></li>
      <li class="current"><a href="topics.html"><span>专题</span></a></li>
      <li><a href="annotated.html"><span>结构体</span></a></li>
      <li><a href="files.html"><span>文件</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="doc-content">
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<div class="header">
  <div class="summary">
<a href="#nested-classes">结构体</a> &#124;
<a href="#define-members">宏定义</a> &#124;
<a href="#typedef-members">类型定义</a> &#124;
<a href="#enum-members">枚举</a> &#124;
<a href="#func-members">函数</a>  </div>
  <div class="headertitle"><div class="title">MQTT相关接口</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
结构体</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structluat__mqtt__ctrl__t.html">luat_mqtt_ctrl_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">设置MQTT客户端的配置参数  <a href="structluat__mqtt__ctrl__t.html#details">更多...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structluat__mqtt__msg__t.html">luat_mqtt_msg_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structluat__mqtt__connopts.html">luat_mqtt_connopts</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">设置MQTT服务端服务器信息、加密信息  <a href="structluat__mqtt__connopts.html#details">更多...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
宏定义</h2></td></tr>
<tr class="memitem:ga00988cd5c1d0fff7d4eb8eb1b554fc55" id="r_ga00988cd5c1d0fff7d4eb8eb1b554fc55"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga00988cd5c1d0fff7d4eb8eb1b554fc55">MQTT_MSG_RELEASE</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:ga00988cd5c1d0fff7d4eb8eb1b554fc55"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5272b50c46d0baa3161ae75a75a6c4d8" id="r_ga5272b50c46d0baa3161ae75a75a6c4d8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga5272b50c46d0baa3161ae75a75a6c4d8">MQTT_MSG_TCP_TX_DONE</a>&#160;&#160;&#160;1</td></tr>
<tr class="separator:ga5272b50c46d0baa3161ae75a75a6c4d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6c8f1d88511c6dc4fdabb182da20154b" id="r_ga6c8f1d88511c6dc4fdabb182da20154b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga6c8f1d88511c6dc4fdabb182da20154b">MQTT_MSG_TIMER_PING</a>&#160;&#160;&#160;2</td></tr>
<tr class="separator:ga6c8f1d88511c6dc4fdabb182da20154b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1ed585d6e17fc3b32d11b84d3510e296" id="r_ga1ed585d6e17fc3b32d11b84d3510e296"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga1ed585d6e17fc3b32d11b84d3510e296">MQTT_MSG_RECONNECT</a>&#160;&#160;&#160;3</td></tr>
<tr class="separator:ga1ed585d6e17fc3b32d11b84d3510e296"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae5d375cd411b78dc3a65daec2ca89050" id="r_gae5d375cd411b78dc3a65daec2ca89050"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gae5d375cd411b78dc3a65daec2ca89050">MQTT_MSG_CLOSE</a>&#160;&#160;&#160;4</td></tr>
<tr class="separator:gae5d375cd411b78dc3a65daec2ca89050"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa1a590688b14b7def13cc9fefe7acb69" id="r_gaa1a590688b14b7def13cc9fefe7acb69"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaa1a590688b14b7def13cc9fefe7acb69">MQTT_ERROR_STATE_SOCKET</a>&#160;&#160;&#160;-1</td></tr>
<tr class="separator:gaa1a590688b14b7def13cc9fefe7acb69"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga20ed1d3082e6351599e1a44735be60ef" id="r_ga20ed1d3082e6351599e1a44735be60ef"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga20ed1d3082e6351599e1a44735be60ef">MQTT_ERROR_STATE_DISCONNECT</a>&#160;&#160;&#160;-2</td></tr>
<tr class="separator:ga20ed1d3082e6351599e1a44735be60ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga986a9ba2ace89defbc231a6732546c61" id="r_ga986a9ba2ace89defbc231a6732546c61"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga986a9ba2ace89defbc231a6732546c61">MQTT_RECV_BUF_LEN_MAX</a>&#160;&#160;&#160;4096</td></tr>
<tr class="memdesc:ga986a9ba2ace89defbc231a6732546c61"><td class="mdescLeft">&#160;</td><td class="mdescRight">MQTT 接收BUFF大小  <br /></td></tr>
<tr class="separator:ga986a9ba2ace89defbc231a6732546c61"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="typedef-members" name="typedef-members"></a>
类型定义</h2></td></tr>
<tr class="memitem:ga1fd3ff10713e3f2b0378c0dd5fc32101" id="r_ga1fd3ff10713e3f2b0378c0dd5fc32101"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structluat__mqtt__connopts.html">luat_mqtt_connopts</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga1fd3ff10713e3f2b0378c0dd5fc32101">luat_mqtt_connopts_t</a></td></tr>
<tr class="memdesc:ga1fd3ff10713e3f2b0378c0dd5fc32101"><td class="mdescLeft">&#160;</td><td class="mdescRight">设置MQTT服务端服务器信息、加密信息  <br /></td></tr>
<tr class="separator:ga1fd3ff10713e3f2b0378c0dd5fc32101"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad0bf775ace582593dbd21ea1d9a59bd3" id="r_gad0bf775ace582593dbd21ea1d9a59bd3"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gad0bf775ace582593dbd21ea1d9a59bd3">luat_mqtt_cb_t</a>) (<a class="el" href="structluat__mqtt__ctrl__t.html">luat_mqtt_ctrl_t</a> *luat_mqtt_ctrl, uint16_t event)</td></tr>
<tr class="separator:gad0bf775ace582593dbd21ea1d9a59bd3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="enum-members" name="enum-members"></a>
枚举</h2></td></tr>
<tr class="memitem:ga9c461bddcfaf176a4c2543b4b4a75297" id="r_ga9c461bddcfaf176a4c2543b4b4a75297"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga9c461bddcfaf176a4c2543b4b4a75297">LUAT_MQTT_STATE_E</a> { <a class="el" href="#gga9c461bddcfaf176a4c2543b4b4a75297a968c27765f4690a7fdd267d21502a4e1">MQTT_STATE_DISCONNECT</a>
, <a class="el" href="#gga9c461bddcfaf176a4c2543b4b4a75297a48d9a2f61697ab1faf4deb60b2c095b2">MQTT_STATE_SCONNECT</a>
, <a class="el" href="#gga9c461bddcfaf176a4c2543b4b4a75297a2c437a93206e7fd53828fce59c3054e8">MQTT_STATE_MQTT</a>
, <a class="el" href="#gga9c461bddcfaf176a4c2543b4b4a75297ac706ba85493c05d22fcf7a19fffab447">MQTT_STATE_READY</a>
 }</td></tr>
<tr class="memdesc:ga9c461bddcfaf176a4c2543b4b4a75297"><td class="mdescLeft">&#160;</td><td class="mdescRight">mqtt状态  <a href="#ga9c461bddcfaf176a4c2543b4b4a75297">更多...</a><br /></td></tr>
<tr class="separator:ga9c461bddcfaf176a4c2543b4b4a75297"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
函数</h2></td></tr>
<tr class="memitem:gad505e5a21a58fe522cc6aac93cf2df02" id="r_gad505e5a21a58fe522cc6aac93cf2df02"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gad505e5a21a58fe522cc6aac93cf2df02">luat_mqtt_connect</a> (<a class="el" href="structluat__mqtt__ctrl__t.html">luat_mqtt_ctrl_t</a> *mqtt_ctrl)</td></tr>
<tr class="memdesc:gad505e5a21a58fe522cc6aac93cf2df02"><td class="mdescLeft">&#160;</td><td class="mdescRight">发起MQTT连接  <br /></td></tr>
<tr class="separator:gad505e5a21a58fe522cc6aac93cf2df02"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab55e02a66fd3555aa9daae73bbebdd0a" id="r_gab55e02a66fd3555aa9daae73bbebdd0a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gab55e02a66fd3555aa9daae73bbebdd0a">l_luat_mqtt_msg_cb</a> (<a class="el" href="structluat__mqtt__ctrl__t.html">luat_mqtt_ctrl_t</a> *ctrl, int arg1, int arg2)</td></tr>
<tr class="memdesc:gab55e02a66fd3555aa9daae73bbebdd0a"><td class="mdescLeft">&#160;</td><td class="mdescRight">MQTT内部回调(用户无需关心)  <br /></td></tr>
<tr class="separator:gab55e02a66fd3555aa9daae73bbebdd0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7f7d88a8565a80b87e9146622d0bc0a0" id="r_ga7f7d88a8565a80b87e9146622d0bc0a0"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga7f7d88a8565a80b87e9146622d0bc0a0">luat_mqtt_callback</a> (void *data, void *param)</td></tr>
<tr class="memdesc:ga7f7d88a8565a80b87e9146622d0bc0a0"><td class="mdescLeft">&#160;</td><td class="mdescRight">MQTT报文解析内部回调(用户无需关心)  <br /></td></tr>
<tr class="separator:ga7f7d88a8565a80b87e9146622d0bc0a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6ed88a549bb30cb917c1f13f5a4eca7e" id="r_ga6ed88a549bb30cb917c1f13f5a4eca7e"><td class="memItemLeft" align="right" valign="top">LUAT_RT_RET_TYPE&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga6ed88a549bb30cb917c1f13f5a4eca7e">luat_mqtt_timer_callback</a> (LUAT_RT_CB_PARAM)</td></tr>
<tr class="memdesc:ga6ed88a549bb30cb917c1f13f5a4eca7e"><td class="mdescLeft">&#160;</td><td class="mdescRight">MQTT定时器内部回调(用户无需关心)  <br /></td></tr>
<tr class="separator:ga6ed88a549bb30cb917c1f13f5a4eca7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf6d60e34b09b3d1518b9031c0bf36fea" id="r_gaf6d60e34b09b3d1518b9031c0bf36fea"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaf6d60e34b09b3d1518b9031c0bf36fea">luat_mqtt_send_packet</a> (void *socket_info, const void *buf, unsigned int count)</td></tr>
<tr class="memdesc:gaf6d60e34b09b3d1518b9031c0bf36fea"><td class="mdescLeft">&#160;</td><td class="mdescRight">MQTT报文发送(用户无需关心)  <br /></td></tr>
<tr class="separator:gaf6d60e34b09b3d1518b9031c0bf36fea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafd70c74bd751d7619a106e2ff4245d63" id="r_gafd70c74bd751d7619a106e2ff4245d63"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gafd70c74bd751d7619a106e2ff4245d63">luat_mqtt_close_socket</a> (<a class="el" href="structluat__mqtt__ctrl__t.html">luat_mqtt_ctrl_t</a> *mqtt_ctrl)</td></tr>
<tr class="memdesc:gafd70c74bd751d7619a106e2ff4245d63"><td class="mdescLeft">&#160;</td><td class="mdescRight">关闭MQTT连接，如果设置了自动重连，回重新自动连接  <br /></td></tr>
<tr class="separator:gafd70c74bd751d7619a106e2ff4245d63"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga12d186142a6dfba469d4155d0b2430fe" id="r_ga12d186142a6dfba469d4155d0b2430fe"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#ga9c461bddcfaf176a4c2543b4b4a75297">LUAT_MQTT_STATE_E</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga12d186142a6dfba469d4155d0b2430fe">luat_mqtt_state_get</a> (<a class="el" href="structluat__mqtt__ctrl__t.html">luat_mqtt_ctrl_t</a> *mqtt_ctrl)</td></tr>
<tr class="memdesc:ga12d186142a6dfba469d4155d0b2430fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">获取MQTT连接状态  <br /></td></tr>
<tr class="separator:ga12d186142a6dfba469d4155d0b2430fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaff36623cffc24177d6bd95928c173db4" id="r_gaff36623cffc24177d6bd95928c173db4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaff36623cffc24177d6bd95928c173db4">luat_mqtt_release_socket</a> (<a class="el" href="structluat__mqtt__ctrl__t.html">luat_mqtt_ctrl_t</a> *mqtt_ctrl)</td></tr>
<tr class="memdesc:gaff36623cffc24177d6bd95928c173db4"><td class="mdescLeft">&#160;</td><td class="mdescRight">释放MQTT资源，释放后luatos_mqtt对象不可用  <br /></td></tr>
<tr class="separator:gaff36623cffc24177d6bd95928c173db4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0bf92d66ebd45e98024db0e54d5f3cfc" id="r_ga0bf92d66ebd45e98024db0e54d5f3cfc"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga0bf92d66ebd45e98024db0e54d5f3cfc">luat_mqtt_init</a> (<a class="el" href="structluat__mqtt__ctrl__t.html">luat_mqtt_ctrl_t</a> *mqtt_ctrl, int adapter_index)</td></tr>
<tr class="memdesc:ga0bf92d66ebd45e98024db0e54d5f3cfc"><td class="mdescLeft">&#160;</td><td class="mdescRight">初始化luatos_mqtt(初始化MQTT)  <br /></td></tr>
<tr class="separator:ga0bf92d66ebd45e98024db0e54d5f3cfc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga21124afbf882f53f07816262fda4c0a2" id="r_ga21124afbf882f53f07816262fda4c0a2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga21124afbf882f53f07816262fda4c0a2">luat_mqtt_set_connopts</a> (<a class="el" href="structluat__mqtt__ctrl__t.html">luat_mqtt_ctrl_t</a> *mqtt_ctrl, <a class="el" href="#ga1fd3ff10713e3f2b0378c0dd5fc32101">luat_mqtt_connopts_t</a> *opts)</td></tr>
<tr class="memdesc:ga21124afbf882f53f07816262fda4c0a2"><td class="mdescLeft">&#160;</td><td class="mdescRight">设置MQTT服务器信息、加密信息函数  <br /></td></tr>
<tr class="separator:ga21124afbf882f53f07816262fda4c0a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2e6f8290c7d3369f1bce0ae4c6b8cae8" id="r_ga2e6f8290c7d3369f1bce0ae4c6b8cae8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga2e6f8290c7d3369f1bce0ae4c6b8cae8">luat_mqtt_set_rxbuff_size</a> (<a class="el" href="structluat__mqtt__ctrl__t.html">luat_mqtt_ctrl_t</a> *mqtt_ctrl, uint32_t rxbuff_size)</td></tr>
<tr class="memdesc:ga2e6f8290c7d3369f1bce0ae4c6b8cae8"><td class="mdescLeft">&#160;</td><td class="mdescRight">设置MQTT服务器接收buff大小  <br /></td></tr>
<tr class="separator:ga2e6f8290c7d3369f1bce0ae4c6b8cae8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga590d2afa980515d71c1bc3486aeebee3" id="r_ga590d2afa980515d71c1bc3486aeebee3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga590d2afa980515d71c1bc3486aeebee3">luat_mqtt_reconnect</a> (<a class="el" href="structluat__mqtt__ctrl__t.html">luat_mqtt_ctrl_t</a> *mqtt_ctrl)</td></tr>
<tr class="memdesc:ga590d2afa980515d71c1bc3486aeebee3"><td class="mdescLeft">&#160;</td><td class="mdescRight">设置MQTT服务器信息、加密信息函数  <br /></td></tr>
<tr class="separator:ga590d2afa980515d71c1bc3486aeebee3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga59ba06861b6552d6e992f5adcf2a6f39" id="r_ga59ba06861b6552d6e992f5adcf2a6f39"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga59ba06861b6552d6e992f5adcf2a6f39">luat_mqtt_ping</a> (<a class="el" href="structluat__mqtt__ctrl__t.html">luat_mqtt_ctrl_t</a> *mqtt_ctrl)</td></tr>
<tr class="memdesc:ga59ba06861b6552d6e992f5adcf2a6f39"><td class="mdescLeft">&#160;</td><td class="mdescRight">发送ping包  <br /></td></tr>
<tr class="separator:ga59ba06861b6552d6e992f5adcf2a6f39"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaecd267777b8155598e454380ac77db21" id="r_gaecd267777b8155598e454380ac77db21"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaecd267777b8155598e454380ac77db21">luat_mqtt_set_will</a> (<a class="el" href="structluat__mqtt__ctrl__t.html">luat_mqtt_ctrl_t</a> *mqtt_ctrl, const char *topic, const char *payload, size_t payload_len, uint8_t qos, size_t retain)</td></tr>
<tr class="memdesc:gaecd267777b8155598e454380ac77db21"><td class="mdescLeft">&#160;</td><td class="mdescRight">设置遗嘱消息  <br /></td></tr>
<tr class="separator:gaecd267777b8155598e454380ac77db21"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga56352efe399c72399eabd593e96949fd" id="r_ga56352efe399c72399eabd593e96949fd"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga56352efe399c72399eabd593e96949fd">luat_mqtt_set_cb</a> (<a class="el" href="structluat__mqtt__ctrl__t.html">luat_mqtt_ctrl_t</a> *mqtt_ctrl, <a class="el" href="#gad0bf775ace582593dbd21ea1d9a59bd3">luat_mqtt_cb_t</a> mqtt_cb)</td></tr>
<tr class="memdesc:ga56352efe399c72399eabd593e96949fd"><td class="mdescLeft">&#160;</td><td class="mdescRight">设置MQTT事件回调函数  <br /></td></tr>
<tr class="separator:ga56352efe399c72399eabd593e96949fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">详细描述</h2>
<h2 class="groupheader">宏定义说明</h2>
<a id="ga20ed1d3082e6351599e1a44735be60ef" name="ga20ed1d3082e6351599e1a44735be60ef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga20ed1d3082e6351599e1a44735be60ef">&#9670;&#160;</a></span>MQTT_ERROR_STATE_DISCONNECT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MQTT_ERROR_STATE_DISCONNECT&#160;&#160;&#160;-2</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">在文件 <a class="el" href="luat__mqtt_8h_source.html">luat_mqtt.h</a> 第 <a class="el" href="luat__mqtt_8h_source.html#l00014">14</a> 行定义.</p>

</div>
</div>
<a id="gaa1a590688b14b7def13cc9fefe7acb69" name="gaa1a590688b14b7def13cc9fefe7acb69"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa1a590688b14b7def13cc9fefe7acb69">&#9670;&#160;</a></span>MQTT_ERROR_STATE_SOCKET</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MQTT_ERROR_STATE_SOCKET&#160;&#160;&#160;-1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">在文件 <a class="el" href="luat__mqtt_8h_source.html">luat_mqtt.h</a> 第 <a class="el" href="luat__mqtt_8h_source.html#l00013">13</a> 行定义.</p>

</div>
</div>
<a id="gae5d375cd411b78dc3a65daec2ca89050" name="gae5d375cd411b78dc3a65daec2ca89050"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae5d375cd411b78dc3a65daec2ca89050">&#9670;&#160;</a></span>MQTT_MSG_CLOSE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MQTT_MSG_CLOSE&#160;&#160;&#160;4</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>mqtt 关闭回调消息(不会再重连) </p>

<p class="definition">在文件 <a class="el" href="luat__mqtt_8h_source.html">luat_mqtt.h</a> 第 <a class="el" href="luat__mqtt_8h_source.html#l00011">11</a> 行定义.</p>

</div>
</div>
<a id="ga1ed585d6e17fc3b32d11b84d3510e296" name="ga1ed585d6e17fc3b32d11b84d3510e296"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1ed585d6e17fc3b32d11b84d3510e296">&#9670;&#160;</a></span>MQTT_MSG_RECONNECT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MQTT_MSG_RECONNECT&#160;&#160;&#160;3</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>mqtt 重连前回调消息 </p>

<p class="definition">在文件 <a class="el" href="luat__mqtt_8h_source.html">luat_mqtt.h</a> 第 <a class="el" href="luat__mqtt_8h_source.html#l00010">10</a> 行定义.</p>

</div>
</div>
<a id="ga00988cd5c1d0fff7d4eb8eb1b554fc55" name="ga00988cd5c1d0fff7d4eb8eb1b554fc55"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga00988cd5c1d0fff7d4eb8eb1b554fc55">&#9670;&#160;</a></span>MQTT_MSG_RELEASE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MQTT_MSG_RELEASE&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>mqtt 释放资源前回调消息 </p>

<p class="definition">在文件 <a class="el" href="luat__mqtt_8h_source.html">luat_mqtt.h</a> 第 <a class="el" href="luat__mqtt_8h_source.html#l00007">7</a> 行定义.</p>

</div>
</div>
<a id="ga5272b50c46d0baa3161ae75a75a6c4d8" name="ga5272b50c46d0baa3161ae75a75a6c4d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5272b50c46d0baa3161ae75a75a6c4d8">&#9670;&#160;</a></span>MQTT_MSG_TCP_TX_DONE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MQTT_MSG_TCP_TX_DONE&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>mqtt tcp发送完成 </p>

<p class="definition">在文件 <a class="el" href="luat__mqtt_8h_source.html">luat_mqtt.h</a> 第 <a class="el" href="luat__mqtt_8h_source.html#l00008">8</a> 行定义.</p>

</div>
</div>
<a id="ga6c8f1d88511c6dc4fdabb182da20154b" name="ga6c8f1d88511c6dc4fdabb182da20154b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6c8f1d88511c6dc4fdabb182da20154b">&#9670;&#160;</a></span>MQTT_MSG_TIMER_PING</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MQTT_MSG_TIMER_PING&#160;&#160;&#160;2</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>mqtt ping前回调消息 </p>

<p class="definition">在文件 <a class="el" href="luat__mqtt_8h_source.html">luat_mqtt.h</a> 第 <a class="el" href="luat__mqtt_8h_source.html#l00009">9</a> 行定义.</p>

</div>
</div>
<a id="ga986a9ba2ace89defbc231a6732546c61" name="ga986a9ba2ace89defbc231a6732546c61"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga986a9ba2ace89defbc231a6732546c61">&#9670;&#160;</a></span>MQTT_RECV_BUF_LEN_MAX</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MQTT_RECV_BUF_LEN_MAX&#160;&#160;&#160;4096</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>MQTT 接收BUFF大小 </p>

<p class="definition">在文件 <a class="el" href="luat__mqtt_8h_source.html">luat_mqtt.h</a> 第 <a class="el" href="luat__mqtt_8h_source.html#l00020">20</a> 行定义.</p>

</div>
</div>
<h2 class="groupheader">类型定义说明</h2>
<a id="gad0bf775ace582593dbd21ea1d9a59bd3" name="gad0bf775ace582593dbd21ea1d9a59bd3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad0bf775ace582593dbd21ea1d9a59bd3">&#9670;&#160;</a></span>luat_mqtt_cb_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* luat_mqtt_cb_t) (<a class="el" href="structluat__mqtt__ctrl__t.html">luat_mqtt_ctrl_t</a> *luat_mqtt_ctrl, uint16_t event)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">在文件 <a class="el" href="luat__mqtt_8h_source.html">luat_mqtt.h</a> 第 <a class="el" href="luat__mqtt_8h_source.html#l00086">86</a> 行定义.</p>

</div>
</div>
<a id="ga1fd3ff10713e3f2b0378c0dd5fc32101" name="ga1fd3ff10713e3f2b0378c0dd5fc32101"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1fd3ff10713e3f2b0378c0dd5fc32101">&#9670;&#160;</a></span>luat_mqtt_connopts_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structluat__mqtt__connopts.html">luat_mqtt_connopts</a> <a class="el" href="#ga1fd3ff10713e3f2b0378c0dd5fc32101">luat_mqtt_connopts_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>设置MQTT服务端服务器信息、加密信息 </p>

</div>
</div>
<h2 class="groupheader">枚举类型说明</h2>
<a id="ga9c461bddcfaf176a4c2543b4b4a75297" name="ga9c461bddcfaf176a4c2543b4b4a75297"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9c461bddcfaf176a4c2543b4b4a75297">&#9670;&#160;</a></span>LUAT_MQTT_STATE_E</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="#ga9c461bddcfaf176a4c2543b4b4a75297">LUAT_MQTT_STATE_E</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>mqtt状态 </p>
<table class="fieldtable">
<tr><th colspan="2">枚举值</th></tr><tr><td class="fieldname"><a id="gga9c461bddcfaf176a4c2543b4b4a75297a968c27765f4690a7fdd267d21502a4e1" name="gga9c461bddcfaf176a4c2543b4b4a75297a968c27765f4690a7fdd267d21502a4e1"></a>MQTT_STATE_DISCONNECT&#160;</td><td class="fielddoc"><p>mqtt 断开 </p>
</td></tr>
<tr><td class="fieldname"><a id="gga9c461bddcfaf176a4c2543b4b4a75297a48d9a2f61697ab1faf4deb60b2c095b2" name="gga9c461bddcfaf176a4c2543b4b4a75297a48d9a2f61697ab1faf4deb60b2c095b2"></a>MQTT_STATE_SCONNECT&#160;</td><td class="fielddoc"><p>mqtt socket连接中 </p>
</td></tr>
<tr><td class="fieldname"><a id="gga9c461bddcfaf176a4c2543b4b4a75297a2c437a93206e7fd53828fce59c3054e8" name="gga9c461bddcfaf176a4c2543b4b4a75297a2c437a93206e7fd53828fce59c3054e8"></a>MQTT_STATE_MQTT&#160;</td><td class="fielddoc"><p>mqtt socket已连接 mqtt连接中 </p>
</td></tr>
<tr><td class="fieldname"><a id="gga9c461bddcfaf176a4c2543b4b4a75297ac706ba85493c05d22fcf7a19fffab447" name="gga9c461bddcfaf176a4c2543b4b4a75297ac706ba85493c05d22fcf7a19fffab447"></a>MQTT_STATE_READY&#160;</td><td class="fielddoc"><p>mqtt mqtt已连接 </p>
</td></tr>
</table>

<p class="definition">在文件 <a class="el" href="luat__mqtt_8h_source.html">luat_mqtt.h</a> 第 <a class="el" href="luat__mqtt_8h_source.html#l00028">28</a> 行定义.</p>

</div>
</div>
<h2 class="groupheader">函数说明</h2>
<a id="gab55e02a66fd3555aa9daae73bbebdd0a" name="gab55e02a66fd3555aa9daae73bbebdd0a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab55e02a66fd3555aa9daae73bbebdd0a">&#9670;&#160;</a></span>l_luat_mqtt_msg_cb()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int l_luat_mqtt_msg_cb </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structluat__mqtt__ctrl__t.html">luat_mqtt_ctrl_t</a> *</td>          <td class="paramname"><span class="paramname"><em>ctrl</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>arg1</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>arg2</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>MQTT内部回调(用户无需关心) </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">ctrl</td><td>luatos_mqtt对象实例 </td></tr>
    <tr><td class="paramname">arg1</td><td>参数1 </td></tr>
    <tr><td class="paramname">arg2</td><td>参数2 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>成功为0，其他值失败 </dd></dl>

</div>
</div>
<a id="ga7f7d88a8565a80b87e9146622d0bc0a0" name="ga7f7d88a8565a80b87e9146622d0bc0a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7f7d88a8565a80b87e9146622d0bc0a0">&#9670;&#160;</a></span>luat_mqtt_callback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t luat_mqtt_callback </td>
          <td>(</td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>data</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>param</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>MQTT报文解析内部回调(用户无需关心) </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>数据 </td></tr>
    <tr><td class="paramname">param</td><td>参数 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>成功为0，其他值失败 </dd></dl>

</div>
</div>
<a id="gafd70c74bd751d7619a106e2ff4245d63" name="gafd70c74bd751d7619a106e2ff4245d63"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafd70c74bd751d7619a106e2ff4245d63">&#9670;&#160;</a></span>luat_mqtt_close_socket()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void luat_mqtt_close_socket </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structluat__mqtt__ctrl__t.html">luat_mqtt_ctrl_t</a> *</td>          <td class="paramname"><span class="paramname"><em>mqtt_ctrl</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>关闭MQTT连接，如果设置了自动重连，回重新自动连接 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">mqtt_ctrl</td><td>luatos_mqtt对象实例 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>成功为0，其他值失败 </dd></dl>

</div>
</div>
<a id="gad505e5a21a58fe522cc6aac93cf2df02" name="gad505e5a21a58fe522cc6aac93cf2df02"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad505e5a21a58fe522cc6aac93cf2df02">&#9670;&#160;</a></span>luat_mqtt_connect()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int luat_mqtt_connect </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structluat__mqtt__ctrl__t.html">luat_mqtt_ctrl_t</a> *</td>          <td class="paramname"><span class="paramname"><em>mqtt_ctrl</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>发起MQTT连接 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">mqtt_ctrl</td><td>luatos_mqtt对象实例 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>成功为0，其他值失败 </dd></dl>

</div>
</div>
<a id="ga0bf92d66ebd45e98024db0e54d5f3cfc" name="ga0bf92d66ebd45e98024db0e54d5f3cfc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0bf92d66ebd45e98024db0e54d5f3cfc">&#9670;&#160;</a></span>luat_mqtt_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int luat_mqtt_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structluat__mqtt__ctrl__t.html">luat_mqtt_ctrl_t</a> *</td>          <td class="paramname"><span class="paramname"><em>mqtt_ctrl</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>adapter_index</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>初始化luatos_mqtt(初始化MQTT) </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">mqtt_ctrl</td><td>luatos_mqtt对象实例 </td></tr>
    <tr><td class="paramname">adapter_index</td><td>网卡类型(唯一值 NW_ADAPTER_INDEX_LWIP_GPRS) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>成功为0，其他值失败 </dd></dl>

</div>
</div>
<a id="ga59ba06861b6552d6e992f5adcf2a6f39" name="ga59ba06861b6552d6e992f5adcf2a6f39"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga59ba06861b6552d6e992f5adcf2a6f39">&#9670;&#160;</a></span>luat_mqtt_ping()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int luat_mqtt_ping </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structluat__mqtt__ctrl__t.html">luat_mqtt_ctrl_t</a> *</td>          <td class="paramname"><span class="paramname"><em>mqtt_ctrl</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>发送ping包 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">mqtt_ctrl</td><td>luatos_mqtt对象实例 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>成功为0，其他值失败 </dd></dl>

</div>
</div>
<a id="ga590d2afa980515d71c1bc3486aeebee3" name="ga590d2afa980515d71c1bc3486aeebee3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga590d2afa980515d71c1bc3486aeebee3">&#9670;&#160;</a></span>luat_mqtt_reconnect()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int luat_mqtt_reconnect </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structluat__mqtt__ctrl__t.html">luat_mqtt_ctrl_t</a> *</td>          <td class="paramname"><span class="paramname"><em>mqtt_ctrl</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>设置MQTT服务器信息、加密信息函数 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">mqtt_ctrl</td><td>luatos_mqtt对象实例 </td></tr>
    <tr><td class="paramname">opts</td><td>结构体MQTT服务器信息、加密信息函数 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>成功为0，其他值失败</dd></dl>
<p>手动发起重连 </p><dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">mqtt_ctrl</td><td>luatos_mqtt对象实例 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>成功为0，其他值失败 </dd></dl>

</div>
</div>
<a id="gaff36623cffc24177d6bd95928c173db4" name="gaff36623cffc24177d6bd95928c173db4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaff36623cffc24177d6bd95928c173db4">&#9670;&#160;</a></span>luat_mqtt_release_socket()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void luat_mqtt_release_socket </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structluat__mqtt__ctrl__t.html">luat_mqtt_ctrl_t</a> *</td>          <td class="paramname"><span class="paramname"><em>mqtt_ctrl</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>释放MQTT资源，释放后luatos_mqtt对象不可用 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">mqtt_ctrl</td><td>luatos_mqtt对象实例 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>成功为0，其他值失败 </dd></dl>

</div>
</div>
<a id="gaf6d60e34b09b3d1518b9031c0bf36fea" name="gaf6d60e34b09b3d1518b9031c0bf36fea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf6d60e34b09b3d1518b9031c0bf36fea">&#9670;&#160;</a></span>luat_mqtt_send_packet()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int luat_mqtt_send_packet </td>
          <td>(</td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>socket_info</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *</td>          <td class="paramname"><span class="paramname"><em>buf</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int</td>          <td class="paramname"><span class="paramname"><em>count</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>MQTT报文发送(用户无需关心) </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">socket_info</td><td>socket </td></tr>
    <tr><td class="paramname">buf</td><td>数据 </td></tr>
    <tr><td class="paramname">count</td><td>数据大小 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>成功为0，其他值失败 </dd></dl>

</div>
</div>
<a id="ga56352efe399c72399eabd593e96949fd" name="ga56352efe399c72399eabd593e96949fd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga56352efe399c72399eabd593e96949fd">&#9670;&#160;</a></span>luat_mqtt_set_cb()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int luat_mqtt_set_cb </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structluat__mqtt__ctrl__t.html">luat_mqtt_ctrl_t</a> *</td>          <td class="paramname"><span class="paramname"><em>mqtt_ctrl</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#gad0bf775ace582593dbd21ea1d9a59bd3">luat_mqtt_cb_t</a></td>          <td class="paramname"><span class="paramname"><em>mqtt_cb</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>设置MQTT事件回调函数 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">mqtt_ctrl</td><td>luatos_mqtt对象实例 </td></tr>
    <tr><td class="paramname">mqtt_cb</td><td>回调函数 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>成功为0，其他值失败 </dd></dl>

</div>
</div>
<a id="ga21124afbf882f53f07816262fda4c0a2" name="ga21124afbf882f53f07816262fda4c0a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga21124afbf882f53f07816262fda4c0a2">&#9670;&#160;</a></span>luat_mqtt_set_connopts()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int luat_mqtt_set_connopts </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structluat__mqtt__ctrl__t.html">luat_mqtt_ctrl_t</a> *</td>          <td class="paramname"><span class="paramname"><em>mqtt_ctrl</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#ga1fd3ff10713e3f2b0378c0dd5fc32101">luat_mqtt_connopts_t</a> *</td>          <td class="paramname"><span class="paramname"><em>opts</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>设置MQTT服务器信息、加密信息函数 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">mqtt_ctrl</td><td>luatos_mqtt对象实例 </td></tr>
    <tr><td class="paramname">opts</td><td>结构体MQTT服务器信息、加密信息函数 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>成功为0，其他值失败 </dd></dl>

</div>
</div>
<a id="ga2e6f8290c7d3369f1bce0ae4c6b8cae8" name="ga2e6f8290c7d3369f1bce0ae4c6b8cae8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2e6f8290c7d3369f1bce0ae4c6b8cae8">&#9670;&#160;</a></span>luat_mqtt_set_rxbuff_size()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int luat_mqtt_set_rxbuff_size </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structluat__mqtt__ctrl__t.html">luat_mqtt_ctrl_t</a> *</td>          <td class="paramname"><span class="paramname"><em>mqtt_ctrl</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>rxbuff_size</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>设置MQTT服务器接收buff大小 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">mqtt_ctrl</td><td>luatos_mqtt对象实例 </td></tr>
    <tr><td class="paramname">rxbuff_size</td><td>接收buff大小 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>成功为0，其他值失败 </dd></dl>

</div>
</div>
<a id="gaecd267777b8155598e454380ac77db21" name="gaecd267777b8155598e454380ac77db21"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaecd267777b8155598e454380ac77db21">&#9670;&#160;</a></span>luat_mqtt_set_will()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int luat_mqtt_set_will </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structluat__mqtt__ctrl__t.html">luat_mqtt_ctrl_t</a> *</td>          <td class="paramname"><span class="paramname"><em>mqtt_ctrl</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>topic</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>payload</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>payload_len</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>qos</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>retain</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>设置遗嘱消息 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">mqtt_ctrl</td><td>luatos_mqtt对象实例 </td></tr>
    <tr><td class="paramname">topic</td><td>遗嘱消息的topic </td></tr>
    <tr><td class="paramname">payload</td><td>遗嘱消息的payload </td></tr>
    <tr><td class="paramname">payload_len</td><td>遗嘱消息payload的长度 </td></tr>
    <tr><td class="paramname">qos</td><td>遗嘱消息的qos </td></tr>
    <tr><td class="paramname">retain</td><td>遗嘱消息的retain </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>成功为0，其他值失败 </dd></dl>

</div>
</div>
<a id="ga12d186142a6dfba469d4155d0b2430fe" name="ga12d186142a6dfba469d4155d0b2430fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga12d186142a6dfba469d4155d0b2430fe">&#9670;&#160;</a></span>luat_mqtt_state_get()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#ga9c461bddcfaf176a4c2543b4b4a75297">LUAT_MQTT_STATE_E</a> luat_mqtt_state_get </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structluat__mqtt__ctrl__t.html">luat_mqtt_ctrl_t</a> *</td>          <td class="paramname"><span class="paramname"><em>mqtt_ctrl</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>获取MQTT连接状态 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">mqtt_ctrl</td><td>luatos_mqtt对象实例 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>LUAT_MQTT_STATE_E </dd></dl>

</div>
</div>
<a id="ga6ed88a549bb30cb917c1f13f5a4eca7e" name="ga6ed88a549bb30cb917c1f13f5a4eca7e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6ed88a549bb30cb917c1f13f5a4eca7e">&#9670;&#160;</a></span>luat_mqtt_timer_callback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LUAT_RT_RET_TYPE luat_mqtt_timer_callback </td>
          <td>(</td>
          <td class="paramtype">LUAT_RT_CB_PARAM</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>MQTT定时器内部回调(用户无需关心) </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
制作者&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.11.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
