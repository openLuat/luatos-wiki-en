# pack - Packing and unpacking format string

{bdg-success}`Adapted` {bdg-primary}`Air101/Air103` {bdg-primary}`Air601` {bdg-primary}`Air105` {bdg-primary}`ESP32C3` {bdg-primary}`ESP32S3` {bdg-primary}`Air780E/Air700E`

```{note}
This page document is automatically generated by [this file](https://gitee.com/openLuat/LuatOS/tree/master/luat/modules/luat_lib_pack.c). If there is any error, please submit issue or help modify pr, thank youÔºÅ
```

```{tip}
There are also video tutorials in this library, [click this link to view](https://www.bilibili.com/video/BV1Sr4y1n7bP)
```

## pack.unpack( string, format, init)



Unpack String

**Parameters**

|Incoming Value Type | Explanation|
|-|-|
|string|String to be unpacked|
|string|Formatting symbol '<': set to little endian encoding '>': set to big endian encoding '=':size end follows local setting 'z': empty string 'p':byte string 'p': word string 'a':size_t string 'A': specified length string 'f':float 'd':double 'n':Lua number 'c':char 'b':byte = unsigned char 'h':short 'H':unsigned short 'i':int 'I':unsigned int 'l':long 'L':unsigned long|
|int|The default value is 1, which marks where unpacking begins|

**Return Value**

|return value type | explanation|
|-|-|
|int|Position of string marker|
|any|The first unpacked value may have N return values according to the format value.|

**Examples**

```lua
local _,a = pack.unpack(x,">h") --Unpack into short (2 bytes)

```

---

## pack.pack( format, val1, val2, val3, valn )



value of the packed string

**Parameters**

|Incoming Value Type | Explanation|
|-|-|
|string|format Formatting symbol '<': set to little endian encoding '>': set to big endian encoding '=':size end follows local setting 'z': empty string 'p':byte string 'p': word string 'a':size_t string 'A': specified length string 'f':float 'd':double 'n':Lua number 'c':char 'b':byte = unsigned char 'h':short 'H':unsigned short 'i':int 'I':unsigned int 'l':long 'L':unsigned long|
|any|First value to pack|
|any|Second value to pack|
|any|Second value to pack|
|any|nth value to be packed|

**Return Value**

|return value type | explanation|
|-|-|
|string|A string containing all the formatting variables|

**Examples**

```lua
local data = pack.pack('<h', crypto.crc16("MODBUS", val))
log.info("data", data, data:toHex())

```

---

