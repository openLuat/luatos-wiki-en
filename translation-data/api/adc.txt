从原始值换算得出的实际值，通常单位是
The actual value converted from the original value, usually in units
传入值类型|解释
Incoming Value Type | Explanation
例子
Examples
供电电压的通道
Supply voltage channel
关闭ADC0,1分压电阻，范围
Turn off ADC0,1 divider resistor, range
关闭adc通道
close adc channel
关闭air105内部分压
Turn off the internal partial pressure of air105
关闭分压
Turn off partial pressure
内部温度的通道
Internal temperature channel
单位通常是mV, 部分通道会返回温度值,单位千分之一摄氏度. 若读取失败,会返回
The unit is usually mV, and some channels will return the temperature value in 1‰ degrees Celsius. If the reading fails, it will return
原始值,一般没用,可以直接抛弃
The original value is generally useless and can be discarded directly.
参数
Parameters
参数,与具体设备有关,比如air105填adc.ADC_RANGE_1_8和
Parameters, related to specific equipment, such as air105 fill adc.ADC_RANGE_1_8 and
启用分压
Enable Divider Voltage
如存在多个adc可利用此常量使用多ADC 例如 adc.open(ADC1+2) 打开
If there are more than one ADC you can use this constant to open using multiple ADCs such as adc.open(ADC1 2)
如存在多个adc可利用此常量使用多ADC 例如 adc.open(ADC2+3) 打开
If there are more than one ADC can use this constant to open using multiple ADCs such as adc.open(ADC2 3)
已适配
Adapted
常量
Constant
常量|类型|解释
constant | type | explanation
开启ADC0,1分压电阻，范围
Turn on ADC0,1 divider resistor, range
打开adc通道
open adc channel
打开adc通道2,并读取
open adc channel 2 and read
打开adc通道4,并读取
open adc channel 4 and read
打开air105内部分压
Turn on the internal partial pressure of air105
打开结果
Open Results
按需关闭
Close on demand
数模转换
Digital-to-analog conversion
无
None
本API 在 2022.10.01后编译的固件可用
This API is available in firmware compiled after 2022.10.01
本函数要在调用adc.open之前就调用, 之后调用无效
This function should be called before adc.open is called, and then the call is invalid.
本库可读取硬件adc通道, 也支持读取CPU温度和VBAT供电电源(若模块支持的话
This library can read hardware adc channels, and also supports reading CPU temperature and VBAT power supply (if supported by the module
本库有专属demo，[点此链接查看adc的demo例子
This library has its own demo,[click this link to view the demo example of adc
本页文档由[这个文件](https://gitee.com/openLuat/LuatOS/tree/master/luat/modules/luat_lib_adc.c)自动生成。如有错误，请提交issue或帮忙修改后pr，谢谢
This page document is automatically generated by [this file](https://gitee.com/openLuat/LuatOS/tree/master/luat/modules/luat_lib_adc.c). If there is any error, please submit issue or help modify pr, thank you
模数转换
Analog-to-digital conversion
物理ADC通道请查阅adc.get或者adc.read的注释
For physical ADC channels, please refer to the comments in adc.get or adc.read
的ADC分压电阻关闭，范围
The ADC voltage divider resistor is turned off, and the range
的ADC分压电阻开启，范围
The ADC voltage divider resistor is turned on, and the range
示例
Example
系列(Air780E等)/EC718E系列(Air780EP/Air780EPV等)支持以下2种
Series (Air780E, etc.)/EC718E Series (Air780EP, Air780EPV, etc.) supports the following 2 types
系列(Air780E等)支持2种
Series (Air780E, etc.) support 2 kinds
若需要持续读取, 则不需要close, 功耗会高一点
If continuous reading is required, close is not required and the power consumption will be higher.
获取adc计算值
get adc calculated value
设置ADC的测量范围，注意这个和具体芯片有关，目前只支持air105/Air780E系列
Set the measurement range of ADC. Note that this is related to specific chips. Currently, only air105/Air780E series are supported.
读取adc通道
read adc channel
读取CPU温度
Read CPU temperature
读取CPU温度, 单位为0.001摄氏度, 是内部温度, 非环境温度
Read the CPU temperature, the unit is 0.001 degrees Celsius, it is the internal temperature, not the ambient temperature
读取VBAT供电电压
Read VBAT supply voltage
读取VBAT供电电压, 单位为
Read the VBAT supply voltage in
返回值
Return Value
返回值有1个, 仅计算值
There is 1 return value, only the value is calculated.
返回值有2个, 原始值和计算值,通常只需要后者
There are 2 return values, the original value and the calculated value, usually only the latter is needed.
返回值类型|解释
return value type | explanation
这里使用的是adc.read会返回2个值, 推荐走adc.get函数,直接取实际值
What is used here is that adc.read will return 2 values, recommend go through the adc.get function and directly take the actual value.
通道id,与具体设备有关,通常从0开始
The channel ID, which is related to the specific device, usually starting from 0.