串口id, uart0写0, uart1写
Serial ID, uart0 writes 0, uart1 writes
串口id, uart0写0, uart1写1, 如此类推
The serial port id, uart0 writes 0, uart1 writes 1, and so on.
串口id, uart0写0, uart1写1, 如此类推, 最大值取决于设备
Serial ID, uart0 writes 0, uart1 writes 1, and so on, the maximum value depends on the device
串口操作库
serial port operation library
事件名称
Event Name
传入值类型|解释
Incoming Value Type | Explanation
例子
Examples
停止位，默认为1, 根据实际情况，可以有0.5/1/1.5/2等
Stop bit, default is 1, according to the actual situation, there can be 0.5/1/1.5/2, etc.
偶校验
even check
偶校验,大小写兼容性
Even parity, case compatibility
关闭串口
Close Serial Port
最常用
Most commonly used
写串口
Write serial port
写入十六进制的数据串
Write a data string in hexadecimal
写入可见字符串
Write visible string
初始化软件
Initialize software
参数
Parameters
发送引脚编号
Send Pin Number
发送时序调整，单位是定时器时钟周期，默认是0，需要根据示波器或者逻辑分析仪进行微调
Send timing adjustment, the unit is the timer clock cycle, the default is 0, need to be fine-tuned according to the oscilloscope or logic analyzer
发送用的硬件定时器
Hardware timer for sending
可以简写为
can be abbreviated
可选，要发送的数据起始位置，默认为
Optional. The starting position of the data to be sent. The default value is
可选，要发送的数据长度，默认为zbuff内有效数据，最大值不超过zbuff的最大空间
Optional. The length of the data to be sent is valid data in zbuff by default. The maximum value does not exceed the maximum space in zbuff.
可选，要发送的数据长度，默认全发
Optional. The length of the data to be sent. The default value is full.
可选，默认256，最多获取多少个串口
Optional, the default 256, the maximum number of serial ports to obtain
可选：文件句柄或zbuff对象
optional: File handle or zbuff object
回调方法
Callback Method
大小端，默认小端 uart.LSB, 可选
Size end, default small end uart.LSB, optional
大端模式
Big Endian Mode
奇校验
odd check
奇校验,大小写兼容性
odd check, case compatibility
存在返回
Existence return
对象
Object
小端模式
Little Endian Mode
已适配
Adapted
常量
Constant
常量|类型|解释
constant | type | explanation
建议用定时器0和2，tx_pin最好用AGPIO，防止休眠时误触发对端
It is recommended to use timers 0 and 2. tx_pin is preferably AGPIO to prevent the opposite end from being triggered by mistake during sleep.
开启调试功能
Enable debugging function
开启调试功能，默认使能，填写uart.DEBUG或者非数字使能，其他值都是关闭，目前只有移芯平台支持
Turn on the debugging function, enable by default, fill in uart.DEBUG or non-digital enable, other values are turned off, currently only supported by the core shift platform
形式写串口,等同于c语言
Form to write serial port, equivalent to c language
形式读串口，一次读出全部数据存入buff中，如果buff空间不够会自动扩展，目前air105,air780e支持这个操作
Form read serial port, read all data at one time and store it in buff. If there is not enough buff space, it will automatically expand. Currently, air105 air780e supports this operation.
待写入的数据，如果是zbuff会从指针起始位置开始读
The data to be written, if it is zbuff, it will be read from the starting position of the pointer.
成功的数据长度
Success Data Length
成功返回0,失败返回其他值
Returns 0 on success, other values on failure
接收引脚编号
Receive pin number
接收时序调整，单位是定时器时钟周期，默认是0，需要根据示波器或者逻辑分析仪进行微调
Receive timing adjustment, the unit is the timer clock cycle, the default is 0, need to be fine-tuned according to the oscilloscope or logic analyzer
接收用的硬件定时器
Hardware timer for reception
数据位，默认为8, 可选
Data bit, default is 8, optional
无
None
无校验
No verification
无校验,大小写兼容性
No checksum, case compatibility
无返回值
No return value
本库有专属demo，[点此链接查看uart的demo例子
This library has its own demo,[click this link to view the demo example of uart
本库还有视频教程，[点此链接查看
There are also video tutorials in this library, [click this link to view
本页文档由[这个文件](https://gitee.com/openLuat/LuatOS/tree/master/luat/modules/luat_lib_uart.c)自动生成。如有错误，请提交issue或帮忙修改后pr，谢谢
This page document is automatically generated by [this file](https://gitee.com/openLuat/LuatOS/tree/master/luat/modules/luat_lib_uart.c). If there is any error, please submit issue or help modify pr, thank you
校验位，可选
check digit, optional
检查串口号是否存在
Check whether the serial port number exists
模式下tx向rx转换的延迟时间，默认值12bit的时间，单位
tx to rx conversion delay time in the mode, the default value of 12bit time, unit
模式下tx向rx转换的延迟时间，默认值12bit的时间，单位us, 9600波特率填
The delay time of tx to rx conversion in the mode, the default value is 12bit time, the unit is us, and the baud rate is 9600.
模式下的rx方向GPIO的电平, 默认值
The level of GPIO in the rx direction in the mode, the default value.
模式下的转换GPIO, 默认值
Conversion GPIO in mode, default
波特率, 默认115200，可选择波特率表
Baud rate, default 115200, optional baud rate table
注册串口事件回调
Register Serial Port Event Callback
清除串口Rx缓存中剩余数据量，目前air105,air780e支持这个操作
Clear the remaining amount of data in the serial port Rx buffer. Currently, air105 air780e supports this operation.
等待485模式下TX完成，mcu不支持串口发送移位寄存器空或者类似中断时才需要，在sent事件回调后使用
Waiting for TX to complete in 485 mode is only required when mcu does not support serial port sending shift register empty or similar interrupt, and is used after send event callback
等待了多少次循环才等到tx完成，用于粗劣的观察delay时间是否足够，返回不为0说明还需要放大
How many cycles have I waited for tx to complete, which is used to observe whether the delay time is sufficient for rough observation. If the return is not 0, it means that it needs to be enlarged.
缓冲区大小，默认值
buffer size, default
自动切换, 选取GPIO10作为收发转换脚
Automatic switching, select GPIO10 as the transceiver conversion pin
获取到的可用串口号列表
List of available serial port numbers obtained
获取可用串口号列表，当前仅限
Get a list of available serial numbers, currently only
虚拟串口
Virtual Serial Port
设置软件uart的硬件配置，只有支持硬件定时器的SOC才能使用，目前只能设置一个，波特率根据平台的软硬件配置有不同的极限，建议9600，接收缓存不超过65535，不支持MSB，支持485自动控制。后续仍要setup操作
Set the hardware configuration of the software uart. Only SOC that supports hardware timers can be used. Currently, only one can be set. The baud rate has different limits according to the software and hardware configuration of the platform. It is recommended to 9600, the receiving cache does not exceed 65535, and MSB is not supported. Support 485 automatic control. The subsequent setup operation is still required.
读串口
Read Serial Port
读串口Rx缓存中剩余数据量，目前air105,air780e支持这个操作
Read the remaining amount of data in the serial port Rx buffer. Currently, air105 air780e supports this operation.
读取到的数据 / 传入zbuff时，返回读到的长度，并把zbuff指针后移
When reading data/passing in zbuff, return the length of the read and move the zbuff pointer back.
读取长度
Read Length
软件uart的id，如果失败则返回
the id of the software uart. if it fails, it returns
返回值
Return Value
返回值类型|解释
return value type | explanation
返回读到的长度
Returns the length of the read
返回读到的长度，并把zbuff指针后移
Returns the length of the read and moves the zbuff pointer backward
遇到接收错误不抛弃缓存数据
Receive error not discarded cached data
遇到接收错误是否放弃缓存数据，默认使能，填写uart.ERROR_DROP或者非数字使能，其他值都是关闭，目前只有移芯平台支持
Whether to abandon cached data in case of receiving error, enable by default, fill in uart.ERROR_DROP or non-digital enable, other values are closed, currently only supported by the core transfer platform
遇到错误时抛弃缓存的数据
Discard cached data when error is encountered
配置串口参数
Configure Serial Port Parameters