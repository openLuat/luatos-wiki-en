import{_ as L,u as M,e as V,t as f,f as O,g as T,r as p,o as u,h,m as b,v as w,i as e,b as s,a,w as i,M as F,n as g,F as j,p as q,q as E,c as G,s as U,d as $}from"./index.b2596df1.js";import"./axios.585258ce.js";import{a as k}from"./api.bdb1ed6d.js";const z=r=>(q("data-v-457b68e4"),r=r(),E(),r),A={class:"page-navbar"},H={class:"page-repo-content"},J={class:"repo-readme"},K={key:0,class:"repo-download"},P=z(()=>s("div",{class:"markdown-render-html"},[s("h2",null,"\u7248\u672C\u5217\u8868")],-1)),Q={class:"repo-table-main"},W=$("\u4E0B\u8F7D"),X={__name:"RepoDetail",props:{repoNamespaceId:String,repoName:String},setup(r){const y=r,I=M();V();function R(t="LuatOS \u8F6F\u4EF6\u5E93"){document.title=t}const{repoNamespaceId:_,repoName:n}=f(y),N=O({repoInfo:{readme:"### \u52A0\u8F7D\u4E2D...",versions:[]}});let{repoInfo:l}=f(N);const S=async function(){let t=await k.getRepoObj({namespaceId:_.value,name:n.value});if(t&&t.ok){let o=t.data,c=o.readme||"";c.trim().split(`
`).length==1&&(c+="\u6682\u65E0\u8BE6\u7EC6\u8BF4\u660E",o.readme=c),console.log(o.readme),l.value=o,R("LuatOS - "+o.title)}else m()},x=async function(t){let o=await k.getRepoDownload({namespaceId:_.value,name:n.value,version:t.name});o&&o.ok&&window.open(o.data.url,"_blank")},m=function(){I.push("/repo")};return T(()=>{console.log("onMounted"),S()}),(t,o)=>{const c=p("el-page-header"),v=p("el-breadcrumb"),d=p("el-table-column"),B=p("el-button"),C=p("el-table");return u(),h(j,null,[b(s("div",A,[a(v,{separator:"/"},{default:i(()=>[e(n)?(u(),G(c,{key:0,content:e(_)+"/"+e(n),onBack:m,icon:e(U)},null,8,["content","icon"])):g("",!0)]),_:1})],512),[[w,e(n)]]),b(s("div",H,[s("div",J,[a(e(F),{class:"markdown-render-html",source:e(l).readme,linkify:!0},null,8,["source"]),e(l).versions&&e(l).versions.length>0?(u(),h("div",K,[P,s("div",Q,[a(C,{data:e(l).versions,border:"",stripe:"",style:{width:"100%"}},{default:i(()=>[a(d,{prop:"name",label:"\u7248\u672C"}),a(d,{prop:"createTime",label:"\u521B\u5EFA\u65F6\u95F4"}),a(d,{prop:"updateTime",label:"\u66F4\u65B0\u65F6\u95F4"}),a(d,{prop:"op",label:"\u64CD\u4F5C",width:"100"},{default:i(D=>[a(B,{type:"primary",plain:"",onClick:Y=>x(D.row)},{default:i(()=>[W]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])])])):g("",!0)])],512),[[w,e(n)]])],64)}}};var te=L(X,[["__scopeId","data-v-457b68e4"]]);export{te as default};
